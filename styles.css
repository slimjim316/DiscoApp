/* DiscoApp v2.04 build: 2026-02-16 */

:root {
  --bg:#ffffff; --text:#111111; --muted:#6b6b6b; --hair:#e6e6e6;
  --red:#ff3b30; --tile:#f5f5f7; --bar:#0a84ff;
  --meta:#555; --meta-soft:#8a8a8a; --meta-strong:#333;
}
*{box-sizing:border-box} html,body{height:100%}
html{font-size:18px}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
.version-tag{position:fixed;top:6px;right:10px;font-size:12px;color:var(--muted);opacity:.6;z-index:50;user-select:none}

/* Header / search / info */
header{position:sticky;top:0;z-index:10;background:var(--bg);padding:8px 12px 6px;border-bottom:1px solid var(--hair)}
.title{font-size:34px;font-weight:700;margin:8px 2px 12px}
.search{display:flex;align-items:center;gap:8px;background:var(--tile);border:1px solid var(--hair);padding:10px 12px;border-radius:12px}
.search input{flex:1;border:0;background:transparent;outline:none;font-size:20px;color:var(--text)}
.search .mag{opacity:.6}
.info{display:flex;justify-content:space-between;align-items:center;font-size:15px;color:var(--muted);padding:10px 2px 8px;gap:12px}
.info-right{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.progress-wrap{width:220px;height:8px;border-radius:999px;background:var(--hair);overflow:hidden}
.progress-bar{height:100%;width:0%;background:var(--bar);transition:width .25s ease}
.api-status{display:none}
main{padding:14px 14px 100px}

/* Grid cards */
.grid{display:flex;flex-wrap:wrap;margin:-4px}
.card{width:20%;padding:4px}
.cardInner{background:var(--bg);border:none;border-radius:12px;overflow:visible;cursor:pointer;display:flex;flex-direction:column;height:100%}
.artWrap{
  position:relative;width:100%;padding-top:100%;background:#ddd;border:none;border-radius:14px;overflow:hidden;
  box-shadow:0 3px 12px rgba(0,0,0,.08);transition:transform .18s ease;
}
.art{position:absolute;left:0;top:0;width:100%;height:100%;object-fit:cover;background:#ddd}
.img-fade{opacity:0;transition:opacity .35s ease}
.img-fade.show{opacity:1}
.artWrap::after{content:"";position:absolute;inset:0;background:rgba(255,255,255,0);transition:background .18s ease;}
.cardInner:hover .artWrap{transform:scale(1.03)}
.cardInner:hover .artWrap::after{background:rgba(255,255,255,.12)}

/* Meta block under cover */
.meta{padding:10px 12px;min-height:104px;display:flex;flex-direction:column}
.t{font-weight:700;font-size:15px;line-height:1.25;white-space:normal;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.a{margin-top:2px;font-size:13px;color:var(--meta);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.s{margin-top:2px;font-size:13px;color:var(--meta);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.s .s-year{color:var(--meta-soft)} .s .s-mid{opacity:.5;margin:0 6px} .s .s-master{color:var(--meta-strong)}

/* Hide year/meta line on main Albums + Artists pages (kept in details page) */
#listPage .s,
#artistsPage .s,
#listPage .sL,
#artistsPage .sL{display:none}

@media (max-width:1024px){.card{width:25%}}
@media (max-width:820px){.card{width:33.3333%}}
@media (max-width:600px){.card{width:50%}}
@media (max-width:380px){.card{width:100%}}

/* List rows (legacy) */
.list{list-style:none;padding:0;margin:0;display:none}
.row{display:flex;align-items:center;padding:10px 12px;border-bottom:1px solid var(--hair);cursor:pointer}
.thumbWrap{position:relative;width:64px;height:64px;border-radius:10px;overflow:hidden;background:#ddd;margin-right:12px;
  box-shadow:0 2px 8px rgba(0,0,0,.05)}
.thumb{position:absolute;left:0;top:0;width:100%;height:100%;object-fit:cover;background:#ddd}
.metaL{min-width:0}
.tL{font-weight:700;font-size:16px;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sL{margin-top:2px;font-size:13px;color:var(--meta)}
.sL .s-year{color:var(--meta-soft)} .sL .s-mid{opacity:.5;margin:0 6px} .sL .s-master{color:var(--meta-strong)}

/* Toolbar */
.toolbar{position:fixed;left:0;right:0;bottom:0;background:var(--bg);border-top:1px solid var(--hair);
  display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px 12px}
.group{display:flex;gap:8px;align-items:center}
.btn{
  border:1px solid var(--hair);
  background:var(--tile);
  color:var(--text);
  padding:0 12px;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
  text-decoration:none;
  font-weight:600;

  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:44px;
  line-height:1.1;
}

.btn:disabled{
  opacity:.5;
  cursor:not-allowed;
}

.accent{
  border-color:var(--red);
  color:#fff;
  background:var(--red);
}

.select{
  border:1px solid var(--hair);
  background:var(--tile);
  color:var(--text);
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
  appearance:none;

  height:44px;
  padding:0 28px 0 12px;
  line-height:1.1;

  background-image:
    linear-gradient(45deg,transparent 50%,#666 50%),
    linear-gradient(135deg,#666 50%,transparent 50%);
  background-position:calc(100% - 18px) 19px, calc(100% - 12px) 19px;
  background-size:6px 6px;
  background-repeat:no-repeat;
}

/* ===== Artists view ===== */
.artists-header{
  display:flex;align-items:center;justify-content:flex-start;
  padding:8px 12px;border-bottom:1px solid var(--hair);background:var(--bg);
  position:sticky;top:0;z-index:9;
}

/* Make the artists area a fixed-height row so children can scroll */
.artists-container{
  display:flex;
  height:calc(100vh - 100px); /* viewport minus header/toolbar approx */
  min-height:0;               /* allow children to shrink and scroll */
}

/* Left column: scrollable artist list */
.artist-sidebar{
  width:260px;
  overflow-y:auto;
  border-right:1px solid var(--hair);
  padding:8px 8px 96px 8px;
  background:var(--tile);
  min-height:0;
}

/* Right column: scrollable album grid */
.artist-main{
  flex:1;
  padding:10px 12px 96px 12px; /* bottom padding so grid clears toolbar */
  overflow-y:auto;
  min-height:0;
}

.artist-heading{font-size:18px;font-weight:600;margin:8px 2px 12px}
#artistGrid{margin-top:8px}

.artist-item{padding:8px 10px;border-radius:8px;cursor:pointer;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.artist-item:hover{background:rgba(0,0,0,0.05)}
.artist-item.active{background:var(--red);color:#fff}
.artist-name{font-weight:600}
.artist-count{opacity:.6;font-size:13px;margin-left:4px}


/* Mobile stacked layout */
@media (max-width:680px){
  .artists-container{
    flex-direction:column;
    height:auto;     /* go back to normal page scroll on small screens */
    min-height:auto;
  }
  .artist-sidebar{
    width:100%;
    border-right:none;
    border-bottom:1px solid var(--hair);
    height:auto;
    max-height:50vh;
    overflow-y:auto;
    padding-bottom:96px;
  }
  .artist-main{
    padding:10px 12px 90px 12px;
    overflow-y:visible;
  }
}


/* Details page */
#listPage{display:block}
#artistsPage{display:none}
#detailPage{display:none;min-height:100vh;padding-bottom:70px}
.detail-body{padding:14px 16px 16px 16px;max-width:980px;margin:0 auto}
.detail-footer{
  position:fixed;bottom:0;left:0;right:0;
  background:var(--bg);border-top:1px solid var(--hair);
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 12px;
}

/* Cover block defaults */
.md-head{display:flex;gap:18px;align-items:flex-start;margin-bottom:14px}
.md-art{width:320px;height:320px;border-radius:14px;overflow:hidden;background:#ddd;border:1px solid var(--hair);flex-shrink:0;
  min-width:200px;min-height:200px;max-width:420px;max-height:420px}
.md-art img{width:100%;height:100%;object-fit:cover;background:#ddd}
.md-info{min-width:0;flex:1}
.md-title{font-size:24px;font-weight:600;margin:2px 0 6px 0}
.md-artist{
  color:var(--red);
  font-size:24px;
  font-weight:600;
  margin:2px 0 10px 0;
}

.md-artist.clickable{
  cursor:pointer;
  text-decoration:none;
}

.md-artist.clickable:hover{
  opacity:.85;
}

.md-lines{margin:0 0 12px 0}
.md-lines .line{font-size:14px;color:var(--text);margin:4px 0}
.md-lines .muted{color:var(--muted)}
.tracks{list-style:none;padding:0;margin:0}
.tr{display:flex;align-items:center;gap:10px;padding:10px 6px;border-bottom:1px solid var(--hair)}
.tr:last-child{border-bottom:0}
.tr .no{width:22px;text-align:right;color:var(--muted);font-variant-numeric:tabular-nums}
.tr .twrap{min-width:0;flex:1}
.tr .name{font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tr .dur{width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--muted)}
.detail-foot{font-size:16px;margin-top:4px}
.deep-link{display:inline-block;margin-top:12px;color:var(--red);text-decoration:none;font-size:16px}
.deep-link:hover{text-decoration:underline}

/* More by Artist */
.more-wrap{margin-top:18px}
.more-title{font-weight:700;margin:12px 0 6px 0}
.mini-grid{display:flex;flex-wrap:wrap;margin:-5px}
.mini-card{width:16.6667%;padding:5px}
.mini-inner{background:var(--bg);border:none;border-radius:10px;overflow:visible;cursor:pointer;display:flex;flex-direction:column}
.mini-artWrap{position:relative;width:100%;padding-top:100%;background:#ddd;border:none;border-radius:12px;overflow:hidden;
  box-shadow:0 3px 10px rgba(0,0,0,.08);transition:transform .18s ease}
.mini-art{position:absolute;left:0;top:0;width:100%;height:100%;object-fit:cover;background:#ddd}
.mini-artWrap::after{content:"";position:absolute;inset:0;background:rgba(255,255,255,0);transition:background .18s ease}
.mini-inner:hover .mini-artWrap{transform:scale(1.03)}
.mini-inner:hover .mini-artWrap::after{background:rgba(255,255,255,.12)}
.mini-meta{padding:6px 8px}
.mini-t{font-weight:700;font-size:13px;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.mini-s{margin-top:2px;font-size:11px;color:var(--meta)}
.mini-s .s-year{color:var(--meta-soft)}
.mini-s .s-mid{opacity:.5;margin:0 6px}
.mini-s .s-master{color:var(--meta-strong)}
@media (max-width:1024px){.mini-card{width:20%}}
@media (max-width:820px){.mini-card{width:25%}}
@media (max-width:600px){.mini-card{width:33.3333%}}
@media (max-width:420px){.mini-card{width:50%}}

/* Motion & pointer prefs */
@media (hover: none) and (pointer: coarse){.artWrap,.mini-artWrap{box-shadow:0 2px 6px rgba(0,0,0,.06)}}
@media (hover: hover) and (pointer: fine){
  .cardInner:hover .artWrap{transform:scale(1.03)}
  .cardInner:hover .artWrap::after{background:rgba(255,255,255,.12)}
  .mini-inner:hover .mini-artWrap{transform:scale(1.03)}
  .mini-inner:hover .mini-artWrap::after{background:rgba(255,255,255,.12)}
}
@media (prefers-reduced-motion: reduce){.artWrap,.mini-artWrap,.img-fade{transition:none!important}}

